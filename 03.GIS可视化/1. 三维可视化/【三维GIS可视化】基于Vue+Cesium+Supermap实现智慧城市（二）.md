- [ã€ä¸‰ç»´GISå¯è§†åŒ–ã€‘åŸºäºVue+Cesium+Supermapå®ç°æ™ºæ…§åŸå¸‚ï¼ˆä¸€ï¼‰](https://juejin.cn/post/6953968499089735711)
- [ã€ä¸‰ç»´GISå¯è§†åŒ–ã€‘åŸºäºVue+Cesium+Supermapå®ç°æ™ºæ…§åŸå¸‚ï¼ˆäºŒï¼‰](https://juejin.cn/post/6955011037070360589)
- [ã€ä¸‰ç»´GISå¯è§†åŒ–ã€‘åŸºäºVue+Cesium+Supermapå®ç°æ™ºæ…§åŸå¸‚ï¼ˆä¸‰ï¼‰](https://juejin.cn/post/6958708504618237960)
- [ã€ä¸‰ç»´GISå¯è§†åŒ–ã€‘åŸºäºVue+Cesium+Supermapå®ç°æ™ºæ…§åŸå¸‚ï¼ˆå››ï¼‰](https://juejin.cn/post/6965347246061649934)
- [ã€ä¸‰ç»´GISå¯è§†åŒ–ã€‘åŸºäºVue+Cesium+Supermapå®ç°æ™ºæ…§åŸå¸‚ï¼ˆäº”ï¼‰](https://juejin.cn/post/6969369288247361572)



### å‰è¨€

æ¥ä¸‹æ¥ä¼šæœ‰éƒ¨åˆ†ç¯‡å¹…ç”¨æ¥ä»‹ç»åœ°å›¾å…ƒç´ ä»¥åŠåæ ‡ç³»åŠå…¶è½¬æ¢ç›¸å…³çŸ¥è¯†ï¼Œä»…ä½œäº†è§£ã€‚ä¸æƒ³çœ‹çš„å°±ç›´æ¥è·³åˆ°Viewerç›¸å…³é…ç½®ï¼Œç›´æ¥è¿›è¡Œå®é™…æ“ä½œã€‚

### åœ°å›¾å…ƒç´ 

------

#### è¦ç´ 

æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹ç™¾åº¦åœ°å›¾ä¸Šå¤§æ¦‚éƒ½æœ‰å“ªäº›å…ƒç´ ï¼ˆè¿™é‡Œæˆ‘ä»¥è·¯çº¿æŸ¥è¯¢ä½œä¸ºä¾‹å­ï¼‰

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba13746420fa42f7bfff16a7528c1d24~tplv-k3u1fbpfcp-watermark.image)

é¦–å…ˆ,åœ°å›¾ä¸­æœ€é‡è¦çš„ï¼Œä¹Ÿæ˜¯æœ€åŸºæœ¬çš„å°±æ˜¯åº•å›¾ï¼Œåº•å›¾è´Ÿè´£å°†åœ°ç†çš„åŸºæœ¬ä¿¡æ¯å±•ç°åœ¨è§†åŒºä¸­ï¼Œæ²¡æœ‰åº•å›¾ï¼Œå †å¤šå°‘è¦ç´ éƒ½æ˜¯æ— ç”¨çš„ã€‚æ¥ä¸‹æ¥æ˜¯è·¯çº¿çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œå¯¹åº”åœ°å›¾ä¸­çš„**ç‚¹è¦ç´ Point**ï¼Œä¸¤ç‚¹ä¹‹é—´çš„è·¯çº¿å¯¹åº”åœ°å›¾ä¸­çš„**çº¿è¦ç´ LineString**ã€‚æœ€åå°±æ˜¯å³ä¸‹è§’çš„é¢æ•°æ®äº†ï¼ˆæ˜¯ä¸æ˜¯æ ¼æ ¼ä¸å…¥ï¼Œå› ä¸ºæ˜¯æˆ‘è‡ªå·±ç”»çš„å“ˆå“ˆå“ˆï¼‰ï¼Œå¯¹åº”åœ°å›¾ä¸­çš„**é¢è¦ç´ Polygon**ã€‚è€Œæˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼ŒåŸºæœ¬ä¸Šçš„ä¿¡æ¯å±•ç¤ºå°±æ˜¯ç”±ç‚¹çº¿é¢ä¸‰ç±»è¦ç´ æ„æˆã€‚

### åæ ‡ç³»

------

åªè¦æ¶‰åŠåˆ°åœ°å›¾å¼€å‘ï¼Œæ— è®ºå¦‚ä½•å…³äºåæ ‡ç³»çš„æ¦‚å¿µæ˜¯é€ƒä¸æ‰çš„ï¼Œè°è®©åœ°çƒå®ƒæ˜¯ä¸ªçƒå‘¢ğŸŒï¼ˆå¦‚æœå‘æ¬§æ–‡è¯´çš„åœ°çƒæ˜¯æ–¹çš„é‚£å°±å¥½äº†ï¼‰ã€‚

> æƒ³è±¡ä¸­çš„åœ°çƒvså®é™…çš„åœ°çƒ

![æƒ³è±¡ä¸­çš„åœ°çƒvså®é™…çš„åœ°çƒ](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a49e3ec28ff04edd8a80c842fd58178e~tplv-k3u1fbpfcp-watermark.image)

#### å¸¸ç”¨åæ ‡ç³»

è¿™é‡Œå°±ä¸åˆ—ä¸¾å›½å†…å¸¸ç”¨çš„åæ ‡ç³»åŠè½¬æ¢æ–¹æ³•ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚å…³äºæŠ•å½±åæ ‡ç³»ç»Ÿå’Œåœ°ç†åæ ‡ç³»ç»Ÿï¼Œå¯ä»¥é˜…è¯»è¿™ä¸¤ç¯‡æ–‡ç« åŠ ä»¥äº†è§£ã€‚æˆ‘ä»¬ä¸»è¦ä»‹ç»Cesiumä¸­çš„å¸¸ç”¨åæ ‡ç³»ä»¥åŠå¯¹åº”çš„è½¬æ¢æ–¹å¼ã€‚

[åœ°ç†åæ ‡ç³»ç»Ÿ](https://juejin.cn/post/6930539078488326152#heading-17)

[æŠ•å½±åæ ‡ç³»ç»Ÿ](https://juejin.cn/post/6940684126282317861)

#### Cesiumä¸­çš„åæ ‡ç³»

Cesiumä¸­å¸¸ç”¨çš„åæ ‡æœ‰ä¸¤ç§ï¼šWGS84åæ ‡å’Œç¬›å¡å°”ç©ºé—´åæ ‡ï¼Œæˆ‘ä»¬å¹³æ—¶ä»¥ç»çº¬åº¦æ¥æŒ‡å‘ä¸€ä¸ªåœ°ç‚¹ç”¨çš„å°±æ˜¯WGS84åæ ‡ï¼Œç¬›å¡å°”ç©ºé—´åæ ‡åˆ™å¸¸ç”¨æ¥åšä¸€äº›ç©ºé—´ä½ç½®çš„å˜æ¢ï¼Œå¦‚å¹³ç§»ã€ç¼©æ”¾ç­‰ã€‚äºŒè€…å…³ç³»å¦‚ä¸‹å›¾ï¼š

![124613_sr4k_1585572.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b626f08dc4824c58b1b7e1735f5f6e82~tplv-k3u1fbpfcp-watermark.image)

WGS84åæ ‡ç³»ä¸­åŒ…æ‹¬WGS84ç»çº¬åº¦åæ ‡ç³»å’ŒWGS84å¼§åº¦åæ ‡ç³»ï¼ˆ`Cartographic`ï¼‰ã€‚

ç¬›å¡å°”ç©ºé—´åæ ‡ç³»åŒ…æ‹¬ç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»ï¼ˆ`Cartesian3`ï¼‰ã€å¹³é¢åæ ‡ç³»ï¼ˆ`Cartesian2`ï¼‰å’Œ4Dç¬›å¡å°”åæ ‡ç³»ï¼ˆ`Cartesian4`ï¼‰ã€‚

##### WGS84åæ ‡ç³»

World Geodetic System 1984ï¼Œæ˜¯ä¸ºGPSå…¨çƒå®šä½ç³»ç»Ÿä½¿ç”¨è€Œå»ºç«‹çš„åæ ‡ç³»ç»Ÿï¼Œåæ ‡åŸç‚¹ä¸ºåœ°çƒè´¨å¿ƒï¼Œå…¶åœ°å¿ƒç©ºé—´ç›´è§’åæ ‡ç³»çš„Zè½´æŒ‡å‘BIH ï¼ˆå›½é™…æ—¶é—´æœåŠ¡æœºæ„ï¼‰1984.Oå®šä¹‰çš„åè®®åœ°çƒæï¼ˆCTP)æ–¹å‘ï¼ŒXè½´æŒ‡å‘BIH 1984.0çš„é›¶å­åˆé¢å’ŒCTPèµ¤é“çš„äº¤ç‚¹ï¼ŒYè½´ä¸Zè½´ã€Xè½´å‚ç›´æ„æˆå³æ‰‹åæ ‡ç³»ã€‚æˆ‘ä»¬å¹³å¸¸æ‰‹æœºä¸Šçš„æŒ‡å—é’ˆæ˜¾ç¤ºçš„ç»çº¬åº¦å°±æ˜¯è¿™ä¸ªåæ ‡ç³»ä¸‹å½“å‰çš„åæ ‡ï¼Œè¿›åº¦èŒƒå›´[-180ï¼Œ180],çº¬åº¦èŒƒå›´[-90ï¼Œ90]ã€‚

Cesiumç›®å‰æ”¯æŒä¸¤ç§åæ ‡ç³»WGS84å’ŒWebMercatorï¼Œä½†æ˜¯åœ¨Cesiumä¸­æ²¡æœ‰å®é™…çš„å¯¹è±¡æ¥æè¿°WGS84åæ ‡ï¼Œéƒ½æ˜¯ä»¥å¼§åº¦çš„æ–¹å¼æ¥è¿›è¡Œè¿ç”¨çš„ä¹Ÿå°±æ˜¯Cartographicç±»ï¼š

new Cesium.Cartographic(longitude, latitude, height)ï¼Œè¿™é‡Œçš„å‚æ•°ä¹Ÿå«longitudeã€latitudeï¼Œå°±æ˜¯ç»åº¦å’Œçº¬åº¦ï¼Œè®¡ç®—æ–¹æ³•ï¼šå¼§åº¦= Ï€/180Ã—ç»çº¬åº¦è§’åº¦ã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a38ef2fd24245698bdf3ff1dd0a2f6e~tplv-k3u1fbpfcp-watermark.image)

##### ç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»ï¼ˆ`Cartesian3`ï¼‰

ç¬›å¡å°”ç©ºé—´åæ ‡çš„åŸç‚¹å°±æ˜¯æ¤­çƒçš„ä¸­å¿ƒï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œç»˜å›¾æ—¶ï¼Œä¸æ–¹ä¾¿ä½¿ç”¨ç»çº¬åº¦ç›´æ¥è¿›è¡Œç»˜å›¾ï¼Œä¸€èˆ¬ä¼šå°†åæ ‡ç³»è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡ç³»ï¼Œä½¿ç”¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­çš„çŸ¥è¯†è¿›è¡Œç»˜å›¾ã€‚è¿™é‡Œçš„Cartesian3ï¼Œæœ‰ç‚¹ç±»ä¼¼äºä¸‰ç»´ç³»ç»Ÿä¸­çš„Point3Då¯¹è±¡ï¼Œnew Cesium.Cartesian3(x, y, z)ï¼Œé‡Œé¢ä¸‰ä¸ªåˆ†é‡xã€yã€zã€‚

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f9e213692d04770929c86349456dda9~tplv-k3u1fbpfcp-watermark.image)

##### å¹³é¢åæ ‡ç³»ï¼ˆ`Cartesian2`ï¼‰

å¹³é¢åæ ‡ç³»ä¹Ÿå°±æ˜¯å¹³é¢ç›´è§’åæ ‡ç³»ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´ç¬›å¡å°”åæ ‡ç³»ï¼Œä¸Cartesian3ç›¸æ¯”å°‘äº†ä¸€ä¸ªzçš„åˆ†é‡ï¼Œnew Cesium.Cartesian2(x, y)ã€‚Cartesian2ç»å¸¸ç”¨æ¥æè¿°å±å¹•åæ ‡ç³»ï¼Œæ¯”å¦‚é¼ æ ‡åœ¨ç”µè„‘å±å¹•ä¸Šçš„ç‚¹å‡»ä½ç½®ï¼Œè¿”å›çš„å°±æ˜¯Cartesian2ï¼Œè¿”å›äº†é¼ æ ‡ç‚¹å‡»ä½ç½®çš„xyåƒç´ ç‚¹åˆ†é‡ã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18ddfe6f0c8048ffa51fa2a02538da09~tplv-k3u1fbpfcp-watermark.image)

#### åæ ‡ç³»è½¬æ¢

##### ç»çº¬åº¦å’Œå¼§åº¦çš„è½¬æ¢

```js
var radians=Cesium.Math.toRadiansï¼ˆdegreesï¼‰;//ç»çº¬åº¦è½¬å¼§åº¦
var degrees=Cesium.Math.toDegreesï¼ˆradiansï¼‰;//å¼§åº¦è½¬ç»çº¬åº¦
å¤åˆ¶ä»£ç 
```

##### WGS84ç»çº¬åº¦åæ ‡å’ŒWGS84å¼§åº¦åæ ‡ç³»ï¼ˆ`Cartographic`ï¼‰çš„è½¬æ¢

```js
//æ–¹æ³•ä¸€ï¼š
var longitude = Cesium.Math.toRadians(longitude1); //å…¶ä¸­ longitude1ä¸ºè§’åº¦
var latitude= Cesium.Math.toRadians(latitude1); //å…¶ä¸­ latitude1ä¸ºè§’åº¦
var cartographic = new Cesium.Cartographic(longitude, latitude, height)ï¼›

//æ–¹æ³•äºŒï¼š
var cartographic= Cesium.Cartographic.fromDegrees(longitude, latitude, height);//å…¶ä¸­ï¼Œlongitudeå’Œlatitudeä¸ºè§’åº¦

//æ–¹æ³•ä¸‰ï¼š
var cartographic= Cesium.Cartographic.fromRadians(longitude, latitude, height);//å…¶ä¸­ï¼Œlongitudeå’Œlatitudeä¸ºå¼§åº¦
å¤åˆ¶ä»£ç 
```

##### WGS84åæ ‡ç³»å’Œç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»ï¼ˆ`Cartesian3`ï¼‰çš„è½¬æ¢

```js
var position = Cesium.Cartesian3.fromDegrees(longitude, latitude, height)ï¼›//å…¶ä¸­ï¼Œé«˜åº¦é»˜è®¤å€¼ä¸º0ï¼Œå¯ä»¥ä¸ç”¨å¡«å†™ï¼›longitudeå’Œlatitudeä¸ºè§’åº¦

var positions = Cesium.Cartesian3.fromDegreesArray(coordinates);//å…¶ä¸­ï¼Œcoordinatesæ ¼å¼ä¸ºä¸å¸¦é«˜åº¦çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼š[-115.0, 37.0, -107.0, 33.0]

var positions = Cesium.Cartesian3.fromDegreesArrayHeights(coordinates);//coordinatesæ ¼å¼ä¸ºå¸¦æœ‰é«˜åº¦çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼š[-115.0, 37.0, 100000.0, -107.0, 33.0, 150000.0]

//åŒç†ï¼Œé€šè¿‡å¼§åº¦è½¬æ¢ï¼Œç”¨æ³•ç›¸åŒï¼Œå…·ä½“æœ‰Cesium.Cartesian3.fromRadiansï¼ŒCesium.Cartesian3.fromRadiansArrayï¼ŒCesium.Cartesian3.fromRadiansArrayHeightsç­‰æ–¹æ³•
å¤åˆ¶ä»£ç 
```

##### ç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»è½¬æ¢WGS84

```js
var cartographic= Cesium.Cartographic.fromCartesian(cartesian3)ï¼›
å¤åˆ¶ä»£ç 
```

##### å¹³é¢åæ ‡ç³»ï¼ˆ`Cartesian2`ï¼‰å’Œç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»ï¼ˆ`Cartesian3`ï¼‰çš„è½¬æ¢

å¹³é¢åæ ‡ç³»è½¬ç¬›å¡å°”ç©ºé—´ç›´è§’åæ ‡ç³»

è¿™é‡Œæ³¨æ„çš„æ˜¯å½“å‰çš„ç‚¹(Cartesian2)å¿…é¡»åœ¨ä¸‰ç»´çƒä¸Šï¼Œå¦åˆ™è¿”å›çš„æ˜¯undefinedï¼›é€šè¿‡ScreenSpaceEventHandlerå›è°ƒä¼šå–åˆ°çš„åæ ‡éƒ½æ˜¯Cartesian2ã€‚

å±å¹•åæ ‡è½¬åœºæ™¯åæ ‡-è·å–å€¾æ–œæ‘„å½±æˆ–æ¨¡å‹ç‚¹å‡»å¤„çš„åæ ‡ è¿™é‡Œçš„åœºæ™¯åæ ‡æ˜¯åŒ…å«äº†åœ°å½¢ã€å€¾æ–œæ‘„å½±è¡¨é¢ã€æ¨¡å‹çš„åæ ‡ã€‚

é€šè¿‡viewer.scene.pickPosition(movement.position)è·å–ï¼Œæ ¹æ®çª—å£åæ ‡ï¼Œä»åœºæ™¯çš„æ·±åº¦ç¼“å†²åŒºä¸­æ‹¾å–ç›¸åº”çš„ä½ç½®ï¼Œè¿”å›ç¬›å¡å°”åæ ‡ã€‚

```js
var handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
handler.setInputAction(function (movement) {
     var position = viewer.scene.pickPosition(movement.position);
     console.log(position);
}, Cesium.ScreenSpaceEventType.LEFT_CLICK);
å¤åˆ¶ä»£ç 
```

æ³¨ï¼šè‹¥å±å¹•åæ ‡å¤„æ²¡æœ‰å€¾æ–œæ‘„å½±è¡¨é¢ã€æ¨¡å‹æ—¶ï¼Œè·å–çš„ç¬›å¡å°”åæ ‡ä¸å‡†ï¼Œæ­¤æ—¶è¦å¼€å¯åœ°å½¢æ·±åº¦æ£€æµ‹ï¼ˆ`viewer.scene.globe.depthTestAgainstTerrain = true`; //é»˜è®¤ä¸ºfalseï¼‰ã€‚

å±å¹•åæ ‡è½¬åœ°è¡¨åæ ‡-è·å–åŠ è½½åœ°å½¢åå¯¹åº”çš„ç»çº¬åº¦å’Œé«˜ç¨‹ è¿™é‡Œæ˜¯åœ°çƒè¡¨é¢çš„ä¸–ç•Œåæ ‡ï¼ŒåŒ…å«åœ°å½¢ï¼Œä¸åŒ…æ‹¬æ¨¡å‹ã€å€¾æ–œæ‘„å½±è¡¨é¢ã€‚

é€šè¿‡`viewer.scene.globe.pick(ray, scene)`è·å–ï¼Œå…¶ä¸­`ray=viewer.camera.getPickRay(movement.position)`ã€‚

```js
var handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
handler.setInputAction(function (movement) {
     var ray = viewer.camera.getPickRay(movement.position);
     var position = viewer.scene.globe.pick(ray, viewer.scene);
     console.log(position);
}, Cesium.ScreenSpaceEventType.LEFT_CLICK);
å¤åˆ¶ä»£ç 
```

æ³¨ï¼šé€šè¿‡æµ‹è¯•ï¼Œæ­¤å¤„å¾—åˆ°çš„åæ ‡é€šè¿‡è½¬æ¢æˆwgs84åï¼Œheightçš„ä¸ºè¯¥ç‚¹çš„åœ°å½¢é«˜ç¨‹å€¼ã€‚

å±å¹•åæ ‡è½¬æ¤­çƒé¢åæ ‡-è·å–é¼ æ ‡ç‚¹çš„å¯¹åº”æ¤­çƒé¢ä½ç½® è¿™é‡Œçš„æ¤­çƒé¢åæ ‡æ˜¯å‚è€ƒæ¤­çƒçš„WGS84åæ ‡(Ellipsoid.WGS84)ï¼Œä¸åŒ…å«åœ°å½¢ã€æ¨¡å‹ã€å€¾æ–œæ‘„å½±è¡¨é¢ã€‚

é€šè¿‡ `viewer.scene.camera.pickEllipsoid(movement.position, ellipsoid)`è·å–ï¼Œå¯ä»¥è·å–å½“å‰ç‚¹å‡»è§†çº¿ä¸æ¤­çƒé¢ç›¸äº¤å¤„çš„åæ ‡ï¼Œå…¶ä¸­ellipsoidæ˜¯å½“å‰åœ°çƒä½¿ç”¨çš„æ¤­çƒå¯¹è±¡ï¼š`viewer.scene.globe.ellipsoid`ï¼Œé»˜è®¤ä¸ºEllipsoid.WGS84ã€‚

```js
var handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
handler.setInputAction(function (movement) {
     var position = viewer.scene.camera.pickEllipsoid(movement.position, viewer.scene.globe.ellipsoid);
     console.log(position);
}, Cesium.ScreenSpaceEventType.LEFT_CLICK);
å¤åˆ¶ä»£ç 
```

æ³¨ï¼šé€šè¿‡æµ‹è¯•ï¼Œæ­¤å¤„å¾—åˆ°çš„åæ ‡é€šè¿‡è½¬æ¢æˆwgs84åï¼Œheightçš„ä¸º0(æ­¤å€¼åº”è¯¥ä¸ºåœ°è¡¨åæ ‡å‡å»åœ°å½¢çš„é«˜ç¨‹)ã€‚

### Viewerç›¸å…³é…ç½®é¡¹

------

æˆ‘ä»¬åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­æˆåŠŸç”Ÿæˆäº†ä¸‰ç»´çƒä½“ï¼Œä½†æ˜¯ç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°æˆ‘ä»¬`Viewer`çš„é…ç½®é¡¹æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ¥ä¸‹æ¥æˆ‘å°±å°†åŸºæœ¬é…ç½®ç½—åˆ—å‡ºæ¥ï¼Œæœ‹å‹ä»¬å¯æ ¹æ®éœ€è¦è‡ªè¡Œæ·»åŠ åˆ°è‡ªå·±çš„`Viewer`é…ç½®ä¸­

> è¿™é‡Œçš„é…ç½®å¯¹åº”çš„æ˜¯è¶…å›¾äºŒæ¬¡å°è£…è¿‡çš„Viewer,æ‰€ä»¥æœ‰äº›é»˜è®¤é…ç½®å¯èƒ½ä¸åŸå§‹Ceiusmé»˜è®¤é…ç½®ä¸åŒï¼ŒåŸå§‹çš„é…ç½®é¡¹å¯å‚ç…§[è¿™ç¯‡åšå®¢](https://blog.csdn.net/shenwuyuexy/article/details/108262789)

| åç§°                               | ç±»å‹                        | é»˜è®¤                                       | æè¿°                                                         |
| ---------------------------------- | --------------------------- | ------------------------------------------ | ------------------------------------------------------------ |
| clock                              | `Clock`                     | `new Clock()`                              | æ§åˆ¶å½“å‰æ—¶é—´çš„æ—¶é’Ÿ                                           |
| selectedImageryProviderViewModel   | `ProviderViewModel`         |                                            | å½“å‰åŸºç¡€å›¾åƒå›¾å±‚çš„è§†å›¾æ¨¡å‹ï¼Œå¦‚è‹¥æœªæä¾›ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨åŸºç¡€å›¾å±‚ã€‚æ­¤å€¼ä»…åœ¨ options.baseLayerPicker è®¾ç½®ä¸ºtrueæ—¶æœ‰æ•ˆã€‚ |
| imageryProviderViewModels          | Array.`<ProviderViewModel>` | `createDefaultImageryProviderViewModels()` | ProviderViewModelsæ•°ç»„å¯ä»BaseLayerPickerä¸­é€‰æ‹©ã€‚æ­¤å€¼ä»…åœ¨ options.baseLayerPicker è®¾ç½®ä¸ºtrueæ—¶æœ‰æ•ˆã€‚ |
| selectedTerrainProviderViewModel   | `ProviderViewModel`         |                                            | å½“å‰åŸºç¡€åœ°å½¢å›¾å±‚çš„è§†å›¾æ¨¡å‹ï¼Œå¦‚è‹¥æœªæä¾›ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨åŸºç¡€å›¾å±‚ã€‚æ­¤å€¼ä»…åœ¨ options.baseLayerPicker è®¾ç½®ä¸ºtrueæ—¶æœ‰æ•ˆã€‚ |
| terrainProviderViewModels          | Array.`<ProviderViewModel>` | `createDefaultTerrainProviderViewModels()` | ProviderViewModelsæ•°ç»„å¯ä»BaseLayerPickerä¸­é€‰æ‹©ã€‚æ­¤å€¼ä»…åœ¨ options.baseLayerPicker è®¾ç½®ä¸ºtrueæ—¶æœ‰æ•ˆã€‚ |
| imageryProvider                    | `ImageryProvider`           | `new BingMapsImageryProvider()`            | ä½¿ç”¨çš„å½±åƒæä¾›è€…ã€‚æ­¤å€¼ä»…åœ¨ options.baseLayerPicker è®¾ç½®ä¸º false æ—¶æœ‰æ•ˆã€‚ |
| terrainProvider                    | `TerrainProvider`           | `new EllipsoidTerrainProvider()`           | ä½¿ç”¨çš„åœ°å½¢æä¾›è€…ã€‚                                           |
| skyBox                             | `SkyBox`                    |                                            | ç”¨äºæ¸²æŸ“æ˜Ÿè¾°çš„å¤©ç©ºç›’ï¼Œæœªå®šä¹‰æ—¶ï¼Œä½¿ç”¨é»˜è®¤æ˜Ÿè¾°æ•ˆæœã€‚           |
| skyAtmosphere                      | `SkyAtmosphere`             |                                            | ç¯ç»•åœ°çƒè¾¹ç¼˜çš„è“å¤©å’Œå…‰æ™•æ•ˆæœï¼Œè®¾ç½®ä¸ºfalseå¯å°†å…¶å…³é—­ã€‚        |
| useDefaultRenderLoop               | `Boolean`                   | `true`                                     | å¦‚æœæ­¤éƒ¨ä»¶èƒ½å¤Ÿæ§åˆ¶æ¸²æŸ“å¾ªç¯ï¼Œè®¾ç½®ä¸ºtrueï¼Œåä¹‹è®¾ç½®ä¸ºfalseã€‚    |
| targetFrameRate                    | `Number`                    |                                            | ä½¿ç”¨é»˜è®¤æ¸²æŸ“å¾ªç¯æ—¶çš„ç›®æ ‡å¸§é€Ÿç‡ã€‚                             |
| showRenderLoopErrors               | `Boolean`                   | `true`                                     | å¦‚æœè®¾ç½®ä¸ºtrueï¼Œå‘ç”Ÿæ¸²æŸ“å¾ªç¯é”™è¯¯æ—¶ï¼Œå°†è‡ªåŠ¨ç»™ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªåŒ…å«é”™è¯¯ä¿¡æ¯çš„HTMLé¢æ¿ã€‚ |
| automaticallyTrackDataSourceClocks | `Boolean`                   | `true`                                     | å¦‚æœè®¾ç½®ä¸ºtrueï¼Œå°†è‡ªåŠ¨è·Ÿè¸ªæ–°æ·»åŠ æ•°æ®æºçš„æ—¶é’Ÿè®¾ç½®ï¼Œå¦‚æœæ•°æ®æºçš„æ—¶é’Ÿå˜æ›´ï¼Œåˆ™æ›´æ–°ã€‚å¦‚éœ€å•ç‹¬è®¾ç½®æ—¶é’Ÿï¼Œè¯·å°†æ­¤é¡¹è®¾ç½®ä¸ºfalseã€‚ |
| contextOptions                     | `Object`                    |                                            | Context and WebGL åˆ›å»ºå±æ€§ä¸ä¼ é€’ç»™SceneåŒ¹é…çš„é€‰é¡¹ã€‚å¢åŠ ç¡¬ä»¶åèµ°æ ·åŠŸèƒ½ï¼Œåèµ°æ ·ç³»æ•°msaalevelä½¿ç”¨1åˆ°8çš„æ•´æ•°å€¼ï¼Œé»˜è®¤æ˜¯1ï¼Œå€¼è¶Šå¤§åèµ°æ ·æ•ˆæœè¶Šå¥½ï¼ˆå› ä¸ºç”¨åˆ°äº†WebGL2.0çš„ç‰¹æ€§ï¼Œæ‰€ä»¥requestWebgl2å‚æ•°è®¾ç½®ä¸ºtrueã€‚å› ä¸ºWebGL2.0è¿˜å­˜åœ¨ä¸€ä¸‹ç¼ºé™·ï¼Œæ‰€ä»¥éœ€è¦å…ˆæŠŠOIT,FXAA,HDRå…³æ‰ï¼‰ |
| mapProjection                      | `MapProjection`             | `new GeographicProjection()	`           | åœ¨äºŒç»´å’ŒColumbusè§†å›¾æ¨¡å¼ä¸‹æ‰€ä½¿ç”¨çš„åœ°å›¾æŠ•å½±ã€‚                 |
|                                    |                             |                                            |                                                              |
| globe                              | `Globe`                     | `new Globe(mapProjection.ellipsoid)	`   | åœºæ™¯ä¸­çš„åœ°çƒï¼Œå¦‚æœæ­¤é¡¹è®¾ç½®ä¸ºfalseï¼Œå°†ä¸æ·»åŠ çƒä½“å¯¹è±¡ã€‚        |
| orderIndependentTranslucency       | `Boolean`                   | `true`                                     | å¦‚æœæ­¤é¡¹è®¾ç½®ä¸ºtrueï¼Œå¹¶ä¸”ä½¿ç”¨è®¾å¤‡æ”¯æŒï¼Œå°†ä½¿ç”¨ä¸é¡ºåºæ— å…³çš„åŠé€æ˜ã€‚ |
| creditContainer                    | `Element` \ `String`        |                                            | æŒ‡å®šåŒ…å«CreditDisplayä¿¡æ¯çš„DOMå…ƒç´ æˆ–IDã€‚å¦‚è‹¥æœªæŒ‡å®šï¼Œcreditä¿¡æ¯å°†æ·»åŠ åˆ°éƒ¨ä»¶åº•éƒ¨ã€‚ |
| dataSources                        | `DataSourceCollection`      | `new DataSourceCollection()`               | æŒ‡å®šç”±vieweréƒ¨ä»¶å¯è§†åŒ–çš„æ•°æ®æºé›†åˆã€‚å¦‚æœæä¾›æ­¤å‚æ•°ï¼Œå®ä¾‹ç”±è°ƒç”¨è€…æ‹¥æœ‰ï¼Œå¹¶ä¸”viewerè¢«é”€æ¯æ—¶æ­¤å®ä¾‹ä¸è¢«é”€æ¯ã€‚ |
|                                    |                             |                                            |                                                              |
| terrainExaggeration                | `Number`                    | `1.0`                                      | ç”¨äºå¤¸å¤§åœ°å½¢çš„æ ‡é‡ã€‚è¯·æ³¨æ„ï¼Œè®¾ç½®åœ°å½¢å¤¸å¼ ä¸ä¼šä¿®æ”¹å…¶å®ƒä»»ä½•æ•°æ®ã€‚ |
|                                    |                             |                                            |                                                              |
| shadows                            | `Boolean`                   | `false`                                    | ç¡®å®šé˜´å½±æ˜¯å¦ç”±å¤ªé˜³æŠ•å°„å½¢æˆã€‚                                 |
|                                    |                             |                                            |                                                              |
| terrainShadows                     | `ShadowMode`                | `ShadowMode.RECEIVE_ONLY`                  | ç¡®å®šåœ°å½¢æ˜¯å¦æŠ•å°„æˆ–æ¥å—æ¥è‡ªå¤ªé˜³çš„é˜´å½±ã€‚                       |
|                                    |                             |                                            |                                                              |
| mapMode2D                          | `MapMode2D`                 | `MapMode2D.INFINITE_SCROLL`                | ç¡®å®šäºŒç»´åœ°å›¾æ˜¯å¯æ—‹è½¬çš„æˆ–æ˜¯å¯ä»¥åœ¨åœ¨æ°´å¹³æ–¹å‘ä¸Šæ— é™æ»šåŠ¨ã€‚       |
|                                    |                             |                                            |                                                              |
| navigation                         | `Boolean`                   | `false`                                    | æ˜¯å¦æ˜¾ç¤ºå¯¼èˆªç½—ç›˜æ§ä»¶ã€‚å¦‚éœ€æ˜¾ç¤ºï¼Œéœ€åœ¨åˆå§‹åŒ–vieweræ—¶æ­¤é¡¹è®¾ç½®ä¸ºtrueã€‚ |

### æ·»åŠ å›¾å±‚ï¼ˆ`Adding Imagery`ï¼‰

------

`Imagery`ä¸ç”¨è¯´ï¼Œåœ¨Cesiumé¡¹ç›®ä¸­ä¸€å®šæ˜¯å…³é”®å…ƒç´ ï¼Œç“¦ç‰‡å›¾é›†åˆæ ¹æ®ä¸åŒæŠ•å½±æ–¹å¼æ˜ å°„åˆ°ä¸‰ç»´åœ°çƒè¡¨é¢ï¼Œé€šè¿‡ç›¸æœºæŒ‡å‘åœ°è¡¨çš„æ–¹å‘è·ç¦»ï¼ŒCesiumä¼šè‡ªåŠ¨è¯·æ±‚ä¸åŒå±‚çº§çš„å›¾å±‚ä¿¡æ¯è¿›è¡Œæ¸²æŸ“ã€‚

Cesiumæ”¯æŒå¤šç§å›¾å±‚æ ¼å¼ï¼š

- wms
- TMS
- WMTS
- ArcGIS
- BingMaps
- GoogleEarth
- Mapbox
- OpenStreetMap

> é»˜è®¤åœ°ï¼ŒCesiumä½¿ç”¨Bing Mapsä½œä¸ºé»˜è®¤çš„å›¾å±‚ã€‚è¿™ä¸ªå›¾å±‚è¢«æ‰“åŒ…è¿›Viewerä¸­ç”¨äºæ¼”ç¤ºã€‚

Cesiumä¸­åŸºæœ¬çš„æ·»åŠ åº•å›¾çš„æ–¹æ³•ä¸º`viewer.imageryLayers.addImageryProvider()`

æˆ‘ä»¬åœ¨`init()`æ–¹æ³•ä¸­æ·»åŠ ä¸‹æ–¹ä»£ç ï¼Œå°è¯•ä¸€ä¸‹ã€‚

```js
var layer = viewer.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({
    url: 'http://cache1.arcgisonline.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer'
}));
å¤åˆ¶ä»£ç 
```

![1.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86c80980222c4490b0ba10c92bb2961e~tplv-k3u1fbpfcp-watermark.image)

å¯¹äºå¤©åœ°å›¾WebGLæä¾›äº†ä¸€ä¸ªå¤©åœ°å›¾å½±åƒæœåŠ¡æä¾›è€…ç±»`TiandituImageryProvider`ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥[å‚ç…§ç¤ºä¾‹](http://support.supermap.com.cn:8090/webgl/examples/webgl/editor.html#tianditu)å’Œ[apiæ–‡æ¡£](http://support.supermap.com.cn/DataWarehouse/WebDocHelp/iPortal/webgl/docs/Documentation/TiandituImageryProvider.html)

### Cameraå®ä½“

------

æˆ‘ä»¬å·²ç»æŠŠè‡ªå·±æƒ³è¦çš„åº•å›¾æ·»åŠ åˆ°åœ°çƒä¸Šäº†ï¼Œä½†æ˜¯å®é™…é¡¹ç›®ä¸­è‚¯å®šä¸å¯èƒ½ä¸€è¿›é¡¹ç›®å°±ç»™äººå±•ç¤ºæ•´ä¸ªåœ°çƒï¼ˆå¦‚æœéœ€æ±‚æ˜¯è¿™æ ·çš„ï¼Œé‚£æˆ‘é“æ­‰ï¼ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨åœ°çƒç”Ÿæˆåå®šä½åˆ°æˆ‘ä»¬éœ€è¦çš„ä½ç½®ï¼Œè¿™å°±ä¸å¾—ä¸è¯´ä¸€ä¸‹`Camera`äº†ã€‚

Cesiumä¸­æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥æ“ä½œCameraï¼Œå¦‚æ—‹è½¬(rotate)ã€ç¼©æ”¾(zoom)ã€å¹³ç§»(pan)å’Œé£åˆ°ç›®çš„åœ°(flyTo)ã€‚CesiumJSæœ‰é¼ æ ‡å’Œè§¦æ‘¸äº‹ä»¶ç”¨æ¥å¤„ç†ä¸Camreaçš„äº¤äº’ï¼Œè¿˜æœ‰APIæ¥ä»¥ç¼–ç¨‹æ–¹å¼æ“ä½œæ‘„åƒæœºã€‚

ä½¿ç”¨`setView`å‡½æ•°å¯è®¾ç½®Cameraçš„ä½ç½®å’Œæ–¹å‘ã€‚`destination`å¯ä»¥æ˜¯`Cartesian3`æˆ–è€…`Rectangle`ï¼Œ`orientation`å¯ä»¥æ˜¯`heading | pitch | roll | direction | up`ã€‚èˆªå‘è§’ã€ä¿¯ä»°è§’å’Œæ¨ªæ»šè§’ä»¥å¼§åº¦å®šä¹‰ã€‚èˆªå‘è§’æ˜¯ä»æ­£è§’åº¦å‘ä¸œå¢åŠ çš„å±€éƒ¨åŒ—å‘æ—‹è½¬ã€‚ä¿¯ä»°è§’æ˜¯æŒ‡ä»å±€éƒ¨çš„ä¸œåŒ—å¹³é¢å¼€å§‹æ—‹è½¬ã€‚æ­£ä¿¯ä»°è§’åœ¨å¹³é¢ä¸Šæ–¹ã€‚è´Ÿä¿¯ä»°è§’åœ¨å¹³é¢ä»¥ä¸‹ã€‚

```js
 //   åˆå§‹åŒ–åœºæ™¯ä½ç½®
viewer.scene.camera.setView({
    // åˆå§‹åŒ–ç›¸æœºç»çº¬åº¦ï¼ˆè¿™é‡Œä½¿ç”¨äº†ç»çº¬åº¦è½¬æ¢ä¸–ç•Œåæ ‡çš„æ–¹æ³•ï¼‰
    destination: new Cesium.Cartesian3.fromDegrees(
      121.54035,
      38.92146,
      2000
    ),
    orientation: {
      heading: Cesium.Math.toRadians(0.0),
      pitch: Cesium.Math.toRadians(-25.0), //ä»ä¸Šå¾€ä¸‹çœ‹ä¸º-90
      roll: 0,
    },
});
å¤åˆ¶ä»£ç 
```

`flyTo`æ–¹æ³•çš„å‚æ•°å’Œ`setView`æ˜¯åŸºæœ¬ä¸€æ ·çš„ã€‚åªæ˜¯`setView`æ˜¯ç›´æ¥å°†è§†è§’æ ¹æ®å‚æ•°å®šä½ï¼Œè€Œ`flyTo`å¦‚å­—é¢æ„æ€ï¼Œä¼šæœ‰ä¸€ä¸ªé£å‘å®šä½ç‚¹çš„åŠ¨ç”»æ•ˆæœã€‚

ä¸¤è€…æ•ˆæœå›¾ï¼š

![2.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4dd71de89504a73a1846edf0bcc9e5f~tplv-k3u1fbpfcp-watermark.image)

![3.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a6f904d242e440c86d15c2c874d4cf8~tplv-k3u1fbpfcp-watermark.image)

#### å®Œæ•´ä»£ç 

```js
<template>
  <div class="container">
    <div id="cesiumContainer"></div>
  </div>
</template>

<script>
var viewer, camera;
export default {
  data() {
    return {};
  },
  mounted() {
    this.init();
  },
  methods: {
    init() {
      viewer = new Cesium.Viewer("cesiumContainer", {});
      var layer = viewer.imageryLayers.addImageryProvider(
        new Cesium.ArcGisMapServerImageryProvider({
          url:
            "http://cache1.arcgisonline.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer",
        })
      );
      //   åˆå§‹åŒ–åœºæ™¯ä½ç½®
      viewer.scene.camera.flyTo({
        // åˆå§‹åŒ–ç›¸æœºç»çº¬åº¦
        destination: new Cesium.Cartesian3.fromDegrees(
          121.54035,
          38.92146,
          2000
        ),
        orientation: {
          heading: Cesium.Math.toRadians(0.0),
          pitch: Cesium.Math.toRadians(-25.0), //ä»ä¸Šå¾€ä¸‹çœ‹ä¸º-90
          roll: 0,
        },
      });
    },
  },
};
</script>

<style lang="scss" scoped>
</style>
å¤åˆ¶ä»£ç 
```